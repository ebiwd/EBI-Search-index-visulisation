d3.functor=function(b){return"function"==typeof b?b:function(){return b}},d3.tip=function(){function h(a){e=w(a),f=e.createSVGPoint(),document.body.appendChild(d)}function i(){return"n"}function j(){return[0,0]}function k(){return" "}function n(){var a=y();return{top:a.n.y-d.offsetHeight,left:a.n.x-d.offsetWidth/2}}function o(){var a=y();return{top:a.s.y,left:a.s.x-d.offsetWidth/2}}function p(){var a=y();return{top:a.e.y-d.offsetHeight/2,left:a.e.x}}function q(){var a=y();return{top:a.w.y-d.offsetHeight/2,left:a.w.x-d.offsetWidth}}function r(){var a=y();return{top:a.nw.y-d.offsetHeight,left:a.nw.x-d.offsetWidth}}function s(){var a=y();return{top:a.ne.y-d.offsetHeight,left:a.ne.x}}function t(){var a=y();return{top:a.sw.y,left:a.sw.x-d.offsetWidth}}function u(){var a=y();return{top:a.se.y,left:a.e.x}}function v(){var a=d3.select(document.createElement("div"));return a.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),a.node()}function w(a){return a=a.node(),"svg"===a.tagName.toLowerCase()?a:a.ownerSVGElement}function x(){return null===d&&(d=v(),document.body.appendChild(d)),d3.select(d)}function y(){for(var a=g||d3.event.target;void 0===a.getScreenCTM&&"undefined"===a.parentNode;)a=a.parentNode;var b={},c=a.getScreenCTM(),d=a.getBBox(),e=d.width,h=d.height,i=d.x,j=d.y;return f.x=i,f.y=j,b.nw=f.matrixTransform(c),f.x+=e,b.ne=f.matrixTransform(c),f.y+=h,b.se=f.matrixTransform(c),f.x-=e,b.sw=f.matrixTransform(c),f.y-=h/2,b.w=f.matrixTransform(c),f.x+=e,b.e=f.matrixTransform(c),f.x-=e/2,f.y-=h/2,b.n=f.matrixTransform(c),f.y+=h,b.s=f.matrixTransform(c),b}var a=i,b=j,c=k,d=v(),e=null,f=null,g=null;h.show=function(){var d=Array.prototype.slice.call(arguments);d[d.length-1]instanceof SVGElement&&(g=d.pop());var n,e=c.apply(this,d),f=b.apply(this,d),i=a.apply(this,d),j=x(),k=m.length,o=document.documentElement.scrollTop||document.body.scrollTop,p=document.documentElement.scrollLeft||document.body.scrollLeft;for(j.html(e).style("position","absolute").style("opacity",1).style("pointer-events","all");k--;)j.classed(m[k],!1);return n=l[i].apply(this),j.classed(i,!0).style("top",n.top+f[0]+o+"px").style("left",n.left+f[1]+p+"px"),h},h.hide=function(){return x().style("opacity",0).style("pointer-events","none"),h},h.attr=function(a,b){if(arguments.length<2&&"string"==typeof a)return x().attr(a);var c=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(x(),c),h},h.style=function(a,b){if(arguments.length<2&&"string"==typeof a)return x().style(a);var c=Array.prototype.slice.call(arguments);if(1===c.length){var d=c[0];Object.keys(d).forEach(function(a){return d3.selection.prototype.style.apply(x(),[a,d[a]])})}return h},h.direction=function(b){return arguments.length?(a=null==b?b:d3.functor(b),h):a},h.offset=function(a){return arguments.length?(b=null==a?a:d3.functor(a),h):b},h.html=function(a){return arguments.length?(c=null==a?a:d3.functor(a),h):c},h.destroy=function(){return d&&(x().remove(),d=null),h};var l={n:n,s:o,e:p,w:q,nw:r,ne:s,sw:t,se:u},m=Object.keys(l);return h};
